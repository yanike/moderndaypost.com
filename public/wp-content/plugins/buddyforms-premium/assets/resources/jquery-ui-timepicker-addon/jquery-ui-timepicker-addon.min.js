/*! jQuery Timepicker Addon - v1.6.3 - 2016-04-20
* http://trentrichardson.com/examples/timepicker
* Copyright (c) 2016 Trent Richardson; Licensed MIT */
(function(e){if(typeof define==='function'&&define.amd){define(['jquery','jquery-ui'],e)}
else{e(jQuery)}}(function(e){e.ui.timepicker=e.ui.timepicker||{};if(e.ui.timepicker.version){return};e.extend(e.ui,{timepicker:{version:'1.6.3'}});var r=function(){this.regional=[];this.regional['']={currentText:'Now',closeText:'Done',amNames:['AM','A'],pmNames:['PM','P'],timeFormat:'HH:mm',timeSuffix:'',timeOnlyTitle:'Choose Time',timeText:'Time',hourText:'Hour',minuteText:'Minute',secondText:'Second',millisecText:'Millisecond',microsecText:'Microsecond',timezoneText:'Time Zone',isRTL:!1};this._defaults={showButtonPanel:!0,timeOnly:!1,timeOnlyShowDate:!1,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,maxTime:null,minTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:!0,separator:' ',altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,altRedirectFocus:!0,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:'slider',oneLine:!1,defaultValue:null,parse:'strict',afterInject:null};e.extend(this._defaults,this.regional[''])};e.extend(r.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,maxTime:null,minTime:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:'',formattedDate:'',formattedTime:'',formattedDateTime:'',timezoneList:null,units:['hour','minute','second','millisec','microsec'],support:{},control:null,setDefaults:function(e){t(this._defaults,e||{});return this},_newInst:function(i,s){var t=new r(),h={},g={},m,l;for(var c in this._defaults){if(this._defaults.hasOwnProperty(c)){var f=i.attr('time:'+c);if(f){try{h[c]=eval(f)}catch(n){h[c]=f}}}};m={beforeShow:function(s,a){if(e.isFunction(t._defaults.evnts.beforeShow)){return t._defaults.evnts.beforeShow.call(i[0],s,a,t)}},onChangeMonthYear:function(s,a,n){if(e.isFunction(t._defaults.evnts.onChangeMonthYear)){t._defaults.evnts.onChangeMonthYear.call(i[0],s,a,n,t)}},onClose:function(s,a){if(t.timeDefined===!0&&i.val()!==''){t._updateDateTime(a)};if(e.isFunction(t._defaults.evnts.onClose)){t._defaults.evnts.onClose.call(i[0],s,a,t)}}};for(l in m){if(m.hasOwnProperty(l)){g[l]=s[l]||this._defaults[l]||null}};t._defaults=e.extend({},this._defaults,h,s,m,{evnts:g,timepicker:t});t.amNames=e.map(t._defaults.amNames,function(e){return e.toUpperCase()});t.pmNames=e.map(t._defaults.pmNames,function(e){return e.toUpperCase()});t.support=u(t._defaults.timeFormat+(t._defaults.pickerTimeFormat?t._defaults.pickerTimeFormat:'')+(t._defaults.altTimeFormat?t._defaults.altTimeFormat:''));if(typeof(t._defaults.controlType)==='string'){if(t._defaults.controlType==='slider'&&typeof(e.ui.slider)==='undefined'){t._defaults.controlType='select'};t.control=t._controls[t._defaults.controlType]}
else{t.control=t._defaults.controlType};var a=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840];if(t._defaults.timezoneList!==null){a=t._defaults.timezoneList};var p=a.length,o=0,d=null;if(p>0&&typeof a[0]!=='object'){for(;o<p;o++){d=a[o];a[o]={value:d,label:e.timepicker.timezoneOffsetString(d,t.support.iso8601)}}};t._defaults.timezoneList=a;t.timezone=t._defaults.timezone!==null?e.timepicker.timezoneOffsetNumber(t._defaults.timezone):((new Date()).getTimezoneOffset()*-1);t.hour=t._defaults.hour<t._defaults.hourMin?t._defaults.hourMin:t._defaults.hour>t._defaults.hourMax?t._defaults.hourMax:t._defaults.hour;t.minute=t._defaults.minute<t._defaults.minuteMin?t._defaults.minuteMin:t._defaults.minute>t._defaults.minuteMax?t._defaults.minuteMax:t._defaults.minute;t.second=t._defaults.second<t._defaults.secondMin?t._defaults.secondMin:t._defaults.second>t._defaults.secondMax?t._defaults.secondMax:t._defaults.second;t.millisec=t._defaults.millisec<t._defaults.millisecMin?t._defaults.millisecMin:t._defaults.millisec>t._defaults.millisecMax?t._defaults.millisecMax:t._defaults.millisec;t.microsec=t._defaults.microsec<t._defaults.microsecMin?t._defaults.microsecMin:t._defaults.microsec>t._defaults.microsecMax?t._defaults.microsecMax:t._defaults.microsec;t.ampm='';t.$input=i;if(t._defaults.altField){t.$altInput=e(t._defaults.altField);if(t._defaults.altRedirectFocus===!0){t.$altInput.css({cursor:'pointer'}).focus(function(){i.trigger('focus')})}};if(t._defaults.minDate===0||t._defaults.minDateTime===0){t._defaults.minDate=new Date()};if(t._defaults.maxDate===0||t._defaults.maxDateTime===0){t._defaults.maxDate=new Date()};if(t._defaults.minDate!==undefined&&t._defaults.minDate instanceof Date){t._defaults.minDateTime=new Date(t._defaults.minDate.getTime())};if(t._defaults.minDateTime!==undefined&&t._defaults.minDateTime instanceof Date){t._defaults.minDate=new Date(t._defaults.minDateTime.getTime())};if(t._defaults.maxDate!==undefined&&t._defaults.maxDate instanceof Date){t._defaults.maxDateTime=new Date(t._defaults.maxDate.getTime())};if(t._defaults.maxDateTime!==undefined&&t._defaults.maxDateTime instanceof Date){t._defaults.maxDate=new Date(t._defaults.maxDateTime.getTime())};t.$input.bind('focus',function(){t._onFocus()});return t},_addTimePicker:function(t){var i=e.trim((this.$altInput&&this._defaults.altFieldTimeOnly)?this.$input.val()+' '+this.$altInput.val():this.$input.val());this.timeDefined=this._parseTime(i);this._limitMinMaxDateTime(t,!1);this._injectTimePicker();this._afterInject()},_parseTime:function(t,i){if(!this.inst){this.inst=e.datepicker._getInst(this.$input[0])};if(i||!this._defaults.timeOnly){var l=e.datepicker._get(this.inst,'dateFormat');try{var r=a(l,this._defaults.timeFormat,t,e.datepicker._getFormatConfig(this.inst),this._defaults);if(!r.timeObj){return!1};e.extend(this,r.timeObj)}catch(s){e.timepicker.log('Error parsing the date/time string: '+s+'\ndate/time string = '+t+'\ntimeFormat = '+this._defaults.timeFormat+'\ndateFormat = '+l);return!1};return!0}
else{var n=e.datepicker.parseTime(this._defaults.timeFormat,t,this._defaults);if(!n){return!1};e.extend(this,n);return!0}},_afterInject:function(){var t=this.inst.settings;if(e.isFunction(t.afterInject)){t.afterInject.call(this)}},_injectTimePicker:function(){var h=this.inst.dpDiv,i=this.inst.settings,s=this,t='',l='',c=null,d={},m={},p=null,u=0,g=0;if(h.find('div.ui-timepicker-div').length===0&&i.showTimepicker){var o=' ui_tpicker_unit_hide',r='<div class="ui-timepicker-div'+(i.isRTL?' ui-timepicker-rtl':'')+(i.oneLine&&i.controlType==='select'?' ui-timepicker-oneLine':'')+'"><dl><dt class="ui_tpicker_time_label'+((i.showTime)?'':o)+'">'+i.timeText+'</dt><dd class="ui_tpicker_time '+((i.showTime)?'':o)+'"><input class="ui_tpicker_time_input" '+(i.timeInput?'':'disabled')+'/></dd>';for(u=0,g=this.units.length;u<g;u++){t=this.units[u];l=t.substr(0,1).toUpperCase()+t.substr(1);c=i['show'+l]!==null?i['show'+l]:this.support[t];d[t]=parseInt((i[t+'Max']-((i[t+'Max']-i[t+'Min'])%i['step'+l])),10);m[t]=0;r+='<dt class="ui_tpicker_'+t+'_label'+(c?'':o)+'">'+i[t+'Text']+'</dt><dd class="ui_tpicker_'+t+(c?'':o)+'"><div class="ui_tpicker_'+t+'_slider'+(c?'':o)+'"></div>';if(c&&i[t+'Grid']>0){r+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';if(t==='hour'){for(var k=i[t+'Min'];k<=d[t];k+=parseInt(i[t+'Grid'],10)){m[t]++;var y=e.datepicker.formatTime(this.support.ampm?'hht':'HH',{hour:k},i);r+='<td data-for="'+t+'">'+y+'</td>'}}
else{for(var f=i[t+'Min'];f<=d[t];f+=parseInt(i[t+'Grid'],10)){m[t]++;r+='<td data-for="'+t+'">'+((f<10)?'0':'')+f+'</td>'}};r+='</tr></table></div>'};r+='</dd>'};var v=i.showTimezone!==null?i.showTimezone:this.support.timezone;r+='<dt class="ui_tpicker_timezone_label'+(v?'':o)+'">'+i.timezoneText+'</dt>';r+='<dd class="ui_tpicker_timezone'+(v?'':o)+'"></dd>';r+='</dl></div>';var a=e(r);if(i.timeOnly===!0){a.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+i.timeOnlyTitle+'</div></div>');h.find('.ui-datepicker-header, .ui-datepicker-calendar').hide()};for(u=0,g=s.units.length;u<g;u++){t=s.units[u];l=t.substr(0,1).toUpperCase()+t.substr(1);c=i['show'+l]!==null?i['show'+l]:this.support[t];s[t+'_slider']=s.control.create(s,a.find('.ui_tpicker_'+t+'_slider'),t,s[t],i[t+'Min'],d[t],i['step'+l]);if(c&&i[t+'Grid']>0){p=100*m[t]*i[t+'Grid']/(d[t]-i[t+'Min']);a.find('.ui_tpicker_'+t+' table').css({width:p+'%',marginLeft:i.isRTL?'0':((p/(-2*m[t]))+'%'),marginRight:i.isRTL?((p/(-2*m[t]))+'%'):'0',borderCollapse:'collapse'}).find('td').click(function(i){var n=e(this),r=n.html(),a=parseInt(r.replace(/[^0-9]/g),10),l=r.replace(/[^apm]/ig),u=n.data('for');if(u==='hour'){if(l.indexOf('p')!==-1&&a<12){a+=12}
else{if(l.indexOf('a')!==-1&&a===12){a=0}}};s.control.value(s,s[u+'_slider'],t,a);s._onTimeChange();s._onSelectHandler()}).css({cursor:'pointer',width:(100/m[t])+'%',textAlign:'center',overflow:'hidden'})}};this.timezone_select=a.find('.ui_tpicker_timezone').append('<select></select>').find('select');e.fn.append.apply(this.timezone_select,e.map(i.timezoneList,function(t,i){return e('<option />').val(typeof t==='object'?t.value:t).text(typeof t==='object'?t.label:t)}));if(typeof(this.timezone)!=='undefined'&&this.timezone!==null&&this.timezone!==''){var O=(new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12)).getTimezoneOffset()*-1;if(O===this.timezone){n(s)}
else{this.timezone_select.val(this.timezone)}}
else{if(typeof(this.hour)!=='undefined'&&this.hour!==null&&this.hour!==''){this.timezone_select.val(i.timezone)}
else{n(s)}};this.timezone_select.change(function(){s._onTimeChange();s._onSelectHandler();s._afterInject()});var D=h.find('.ui-datepicker-buttonpane');if(D.length){D.before(a)}
else{h.append(a)};this.$timeObj=a.find('.ui_tpicker_time_input');this.$timeObj.change(function(){var a=s.inst.settings.timeFormat,t=e.datepicker.parseTime(a,this.value),i=new Date();if(t){i.setHours(t.hour);i.setMinutes(t.minute);i.setSeconds(t.second);e.datepicker._setTime(s.inst,i)}
else{this.value=s.formattedTime;this.blur()}});if(this.inst!==null){var x=this.timeDefined;this._onTimeChange();this.timeDefined=x};if(this._defaults.addSliderAccess){var T=this._defaults.sliderAccessArgs,M=this._defaults.isRTL;T.isRTL=M;setTimeout(function(){if(a.find('.ui-slider-access').length===0){a.find('.ui-slider:visible').sliderAccess(T);var t=a.find('.ui-slider-access:eq(0)').outerWidth(!0);if(t){a.find('table:visible').each(function(){var i=e(this),s=i.outerWidth(),r=i.css(M?'marginRight':'marginLeft').toString().replace('%',''),a=s-t,l=((r*a)/s)+'%',n={width:a,marginRight:0,marginLeft:0};n[M?'marginRight':'marginLeft']=l;i.css(n)})}}},10)};s._limitMinMaxDateTime(this.inst,!0)}},_limitMinMaxDateTime:function(t,i){var n=this._defaults,u=new Date(t.selectedYear,t.selectedMonth,t.selectedDay);if(!this._defaults.showTimepicker){return};if(e.datepicker._get(t,'minDateTime')!==null&&e.datepicker._get(t,'minDateTime')!==undefined&&u){var l=e.datepicker._get(t,'minDateTime'),p=new Date(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0,0);if(this.hourMinOriginal===null||this.minuteMinOriginal===null||this.secondMinOriginal===null||this.millisecMinOriginal===null||this.microsecMinOriginal===null){this.hourMinOriginal=n.hourMin;this.minuteMinOriginal=n.minuteMin;this.secondMinOriginal=n.secondMin;this.millisecMinOriginal=n.millisecMin;this.microsecMinOriginal=n.microsecMin};if(t.settings.timeOnly||p.getTime()===u.getTime()){this._defaults.hourMin=l.getHours();if(this.hour<=this._defaults.hourMin){this.hour=this._defaults.hourMin;this._defaults.minuteMin=l.getMinutes();if(this.minute<=this._defaults.minuteMin){this.minute=this._defaults.minuteMin;this._defaults.secondMin=l.getSeconds();if(this.second<=this._defaults.secondMin){this.second=this._defaults.secondMin;this._defaults.millisecMin=l.getMilliseconds();if(this.millisec<=this._defaults.millisecMin){this.millisec=this._defaults.millisecMin;this._defaults.microsecMin=l.getMicroseconds()}
else{if(this.microsec<this._defaults.microsecMin){this.microsec=this._defaults.microsecMin};this._defaults.microsecMin=this.microsecMinOriginal}}
else{this._defaults.millisecMin=this.millisecMinOriginal;this._defaults.microsecMin=this.microsecMinOriginal}}
else{this._defaults.secondMin=this.secondMinOriginal;this._defaults.millisecMin=this.millisecMinOriginal;this._defaults.microsecMin=this.microsecMinOriginal}}
else{this._defaults.minuteMin=this.minuteMinOriginal;this._defaults.secondMin=this.secondMinOriginal;this._defaults.millisecMin=this.millisecMinOriginal;this._defaults.microsecMin=this.microsecMinOriginal}}
else{this._defaults.hourMin=this.hourMinOriginal;this._defaults.minuteMin=this.minuteMinOriginal;this._defaults.secondMin=this.secondMinOriginal;this._defaults.millisecMin=this.millisecMinOriginal;this._defaults.microsecMin=this.microsecMinOriginal}};if(e.datepicker._get(t,'maxDateTime')!==null&&e.datepicker._get(t,'maxDateTime')!==undefined&&u){var r=e.datepicker._get(t,'maxDateTime'),h=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0);if(this.hourMaxOriginal===null||this.minuteMaxOriginal===null||this.secondMaxOriginal===null||this.millisecMaxOriginal===null){this.hourMaxOriginal=n.hourMax;this.minuteMaxOriginal=n.minuteMax;this.secondMaxOriginal=n.secondMax;this.millisecMaxOriginal=n.millisecMax;this.microsecMaxOriginal=n.microsecMax};if(t.settings.timeOnly||h.getTime()===u.getTime()){this._defaults.hourMax=r.getHours();if(this.hour>=this._defaults.hourMax){this.hour=this._defaults.hourMax;this._defaults.minuteMax=r.getMinutes();if(this.minute>=this._defaults.minuteMax){this.minute=this._defaults.minuteMax;this._defaults.secondMax=r.getSeconds();if(this.second>=this._defaults.secondMax){this.second=this._defaults.secondMax;this._defaults.millisecMax=r.getMilliseconds();if(this.millisec>=this._defaults.millisecMax){this.millisec=this._defaults.millisecMax;this._defaults.microsecMax=r.getMicroseconds()}
else{if(this.microsec>this._defaults.microsecMax){this.microsec=this._defaults.microsecMax};this._defaults.microsecMax=this.microsecMaxOriginal}}
else{this._defaults.millisecMax=this.millisecMaxOriginal;this._defaults.microsecMax=this.microsecMaxOriginal}}
else{this._defaults.secondMax=this.secondMaxOriginal;this._defaults.millisecMax=this.millisecMaxOriginal;this._defaults.microsecMax=this.microsecMaxOriginal}}
else{this._defaults.minuteMax=this.minuteMaxOriginal;this._defaults.secondMax=this.secondMaxOriginal;this._defaults.millisecMax=this.millisecMaxOriginal;this._defaults.microsecMax=this.microsecMaxOriginal}}
else{this._defaults.hourMax=this.hourMaxOriginal;this._defaults.minuteMax=this.minuteMaxOriginal;this._defaults.secondMax=this.secondMaxOriginal;this._defaults.millisecMax=this.millisecMaxOriginal;this._defaults.microsecMax=this.microsecMaxOriginal}};if(t.settings.minTime!==null){var a=new Date('01/01/1970 '+t.settings.minTime);if(this.hour<a.getHours()){this.hour=this._defaults.hourMin=a.getHours();this.minute=this._defaults.minuteMin=a.getMinutes()}
else if(this.hour===a.getHours()&&this.minute<a.getMinutes()){this.minute=this._defaults.minuteMin=a.getMinutes()}
else{if(this._defaults.hourMin<a.getHours()){this._defaults.hourMin=a.getHours();this._defaults.minuteMin=a.getMinutes()}
else if(this._defaults.hourMin===a.getHours()===this.hour&&this._defaults.minuteMin<a.getMinutes()){this._defaults.minuteMin=a.getMinutes()}
else{this._defaults.minuteMin=0}}};if(t.settings.maxTime!==null){var s=new Date('01/01/1970 '+t.settings.maxTime);if(this.hour>s.getHours()){this.hour=this._defaults.hourMax=s.getHours();this.minute=this._defaults.minuteMax=s.getMinutes()}
else if(this.hour===s.getHours()&&this.minute>s.getMinutes()){this.minute=this._defaults.minuteMax=s.getMinutes()}
else{if(this._defaults.hourMax>s.getHours()){this._defaults.hourMax=s.getHours();this._defaults.minuteMax=s.getMinutes()}
else if(this._defaults.hourMax===s.getHours()===this.hour&&this._defaults.minuteMax>s.getMinutes()){this._defaults.minuteMax=s.getMinutes()}
else{this._defaults.minuteMax=59}}};if(i!==undefined&&i===!0){var o=parseInt((this._defaults.hourMax-((this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour)),10),c=parseInt((this._defaults.minuteMax-((this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute)),10),m=parseInt((this._defaults.secondMax-((this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond)),10),d=parseInt((this._defaults.millisecMax-((this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec)),10),f=parseInt((this._defaults.microsecMax-((this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec)),10);if(this.hour_slider){this.control.options(this,this.hour_slider,'hour',{min:this._defaults.hourMin,max:o,step:this._defaults.stepHour});this.control.value(this,this.hour_slider,'hour',this.hour-(this.hour%this._defaults.stepHour))};if(this.minute_slider){this.control.options(this,this.minute_slider,'minute',{min:this._defaults.minuteMin,max:c,step:this._defaults.stepMinute});this.control.value(this,this.minute_slider,'minute',this.minute-(this.minute%this._defaults.stepMinute))};if(this.second_slider){this.control.options(this,this.second_slider,'second',{min:this._defaults.secondMin,max:m,step:this._defaults.stepSecond});this.control.value(this,this.second_slider,'second',this.second-(this.second%this._defaults.stepSecond))};if(this.millisec_slider){this.control.options(this,this.millisec_slider,'millisec',{min:this._defaults.millisecMin,max:d,step:this._defaults.stepMillisec});this.control.value(this,this.millisec_slider,'millisec',this.millisec-(this.millisec%this._defaults.stepMillisec))};if(this.microsec_slider){this.control.options(this,this.microsec_slider,'microsec',{min:this._defaults.microsecMin,max:f,step:this._defaults.stepMicrosec});this.control.value(this,this.microsec_slider,'microsec',this.microsec-(this.microsec%this._defaults.stepMicrosec))}}},_onTimeChange:function(){if(!this._defaults.showTimepicker){return};var t=(this.hour_slider)?this.control.value(this,this.hour_slider,'hour'):!1,s=(this.minute_slider)?this.control.value(this,this.minute_slider,'minute'):!1,a=(this.second_slider)?this.control.value(this,this.second_slider,'second'):!1,n=(this.millisec_slider)?this.control.value(this,this.millisec_slider,'millisec'):!1,r=(this.microsec_slider)?this.control.value(this,this.microsec_slider,'microsec'):!1,l=(this.timezone_select)?this.timezone_select.val():!1,i=this._defaults,o=i.pickerTimeFormat||i.timeFormat,c=i.pickerTimeSuffix||i.timeSuffix;if(typeof(t)==='object'){t=!1};if(typeof(s)==='object'){s=!1};if(typeof(a)==='object'){a=!1};if(typeof(n)==='object'){n=!1};if(typeof(r)==='object'){r=!1};if(typeof(l)==='object'){l=!1};if(t!==!1){t=parseInt(t,10)};if(s!==!1){s=parseInt(s,10)};if(a!==!1){a=parseInt(a,10)};if(n!==!1){n=parseInt(n,10)};if(r!==!1){r=parseInt(r,10)};if(l!==!1){l=l.toString()};var f=i[t<12?'amNames':'pmNames'][0],u=(t!==parseInt(this.hour,10)||s!==parseInt(this.minute,10)||a!==parseInt(this.second,10)||n!==parseInt(this.millisec,10)||r!==parseInt(this.microsec,10)||(this.ampm.length>0&&(t<12)!==(e.inArray(this.ampm.toUpperCase(),this.amNames)!==-1))||(this.timezone!==null&&l!==this.timezone.toString()));if(u){if(t!==!1){this.hour=t};if(s!==!1){this.minute=s};if(a!==!1){this.second=a};if(n!==!1){this.millisec=n};if(r!==!1){this.microsec=r};if(l!==!1){this.timezone=l};if(!this.inst){this.inst=e.datepicker._getInst(this.$input[0])};this._limitMinMaxDateTime(this.inst,!0)};if(this.support.ampm){this.ampm=f};this.formattedTime=e.datepicker.formatTime(i.timeFormat,this,i);if(this.$timeObj){if(o===i.timeFormat){this.$timeObj.val(this.formattedTime+c)}
else{this.$timeObj.val(e.datepicker.formatTime(o,this,i)+c)};if(this.$timeObj[0].setSelectionRange){var m=this.$timeObj[0].selectionStart,d=this.$timeObj[0].selectionEnd;this.$timeObj[0].setSelectionRange(m,d)}};this.timeDefined=!0;if(u){this._updateDateTime()}},_onSelectHandler:function(){var e=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;if(e&&t){e.apply(t,[this.formattedDateTime,this])}},_updateDateTime:function(t){t=this.inst||t;var u=(t.currentYear>0?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(t.selectedYear,t.selectedMonth,t.selectedDay)),a=e.datepicker._daylightSavingAdjust(u),o=e.datepicker._get(t,'dateFormat'),r=e.datepicker._getFormatConfig(t),c=a!==null&&this.timeDefined;this.formattedDate=e.datepicker.formatDate(o,(a===null?new Date():a),r);var s=this.formattedDate;if(t.lastVal===''){t.currentYear=t.selectedYear;t.currentMonth=t.selectedMonth;t.currentDay=t.selectedDay};if(this._defaults.timeOnly===!0&&this._defaults.timeOnlyShowDate===!1){s=this.formattedTime}
else if((this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||c))||(this._defaults.timeOnly===!0&&this._defaults.timeOnlyShowDate===!0)){s+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix};this.formattedDateTime=s;if(!this._defaults.showTimepicker){this.$input.val(this.formattedDate)}
else if(this.$altInput&&this._defaults.timeOnly===!1&&this._defaults.altFieldTimeOnly===!0){this.$altInput.val(this.formattedTime);this.$input.val(this.formattedDate)}
else if(this.$altInput){this.$input.val(s);var i='',l=this._defaults.altSeparator!==null?this._defaults.altSeparator:this._defaults.separator,n=this._defaults.altTimeSuffix!==null?this._defaults.altTimeSuffix:this._defaults.timeSuffix;if(!this._defaults.timeOnly){if(this._defaults.altFormat){i=e.datepicker.formatDate(this._defaults.altFormat,(a===null?new Date():a),r)}
else{i=this.formattedDate};if(i){i+=l}};if(this._defaults.altTimeFormat!==null){i+=e.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+n}
else{i+=this.formattedTime+n};this.$altInput.val(i)}
else{this.$input.val(s)};this.$input.trigger('change')},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var i=e.datepicker._getInst(this.$input.get(0)),s=e.datepicker._get(i,'timepicker');if(s){if(s._defaults.timeOnly&&(i.input.val()!==i.lastVal)){try{e.datepicker._updateDatepicker(i)}catch(t){e.timepicker.log(t)}}}}},_controls:{slider:{create:function(t,i,s,a,n,l,u){var r=t._defaults.isRTL;return i.prop('slide',null).slider({orientation:'horizontal',value:r?a*-1:a,min:r?l*-1:n,max:r?n*-1:l,step:u,slide:function(i,a){t.control.value(t,e(this),s,r?a.value*-1:a.value);t._onTimeChange()},stop:function(e,i){t._onSelectHandler()}})},options:function(e,t,s,i,a){if(e._defaults.isRTL){if(typeof(i)==='string'){if(i==='min'||i==='max'){if(a!==undefined){return t.slider(i,a*-1)};return Math.abs(t.slider(i))};return t.slider(i)};var n=i.min,r=i.max;i.min=i.max=null;if(n!==undefined){i.max=n*-1};if(r!==undefined){i.min=r*-1};return t.slider(i)};if(typeof(i)==='string'&&a!==undefined){return t.slider(i,a)};return t.slider(i)},value:function(e,t,i,s){if(e._defaults.isRTL){if(s!==undefined){return t.slider('value',s*-1)};return Math.abs(t.slider('value'))};if(s!==undefined){return t.slider('value',s)};return t.slider('value')}},select:{create:function(t,i,s,a,r,u,o){var l='<select class="ui-timepicker-select ui-state-default ui-corner-all" data-unit="'+s+'" data-min="'+r+'" data-max="'+u+'" data-step="'+o+'">',c=t._defaults.pickerTimeFormat||t._defaults.timeFormat;for(var n=r;n<=u;n+=o){l+='<option value="'+n+'"'+(n===a?' selected':'')+'>';if(s==='hour'){l+=e.datepicker.formatTime(e.trim(c.replace(/[^ht ]/ig,'')),{hour:n},t._defaults)}
else if(s==='millisec'||s==='microsec'||n>=10){l+=n}
else{l+='0'+n.toString()};l+='</option>'};l+='</select>';i.children('select').remove();e(l).appendTo(i).change(function(e){t._onTimeChange();t._onSelectHandler();t._afterInject()});return i},options:function(e,t,i,s,a){var n={},r=t.children('select');if(typeof(s)==='string'){if(a===undefined){return r.data(s)};n[s]=a}
else{n=s};return e.control.create(e,t,r.data('unit'),r.val(),n.min>=0?n.min:r.data('min'),n.max||r.data('max'),n.step||r.data('step'))},value:function(e,t,i,s){var a=t.children('select');if(s!==undefined){return a.val(s)};return a.val()}}}});e.fn.extend({timepicker:function(t){t=t||{};var i=Array.prototype.slice.call(arguments);if(typeof t==='object'){i[0]=e.extend(t,{timeOnly:!0})};return e(this).each(function(){e.fn.datetimepicker.apply(e(this),i)})},datetimepicker:function(t){t=t||{};var i=arguments;if(typeof(t)==='string'){if(t==='getDate'||(t==='option'&&i.length===2&&typeof(i[1])==='string')){return e.fn.datepicker.apply(e(this[0]),i)}
else{return this.each(function(){var t=e(this);t.datepicker.apply(t,i)})}}
else{return this.each(function(){var i=e(this);i.datepicker(e.timepicker._newInst(i,t)._defaults)})}}});e.datepicker.parseDateTime=function(e,t,i,s,n){var l=a(e,t,i,s,n);if(l.timeObj){var r=l.timeObj;l.date.setHours(r.hour,r.minute,r.second,r.millisec);l.date.setMicroseconds(r.microsec)};return l.date};e.datepicker.parseTime=function(i,s,a){var n=t(t({},e.timepicker._defaults),a||{}),u=(i.replace(/'.*?'/g,'').indexOf('Z')!==-1);var r=function(t,i,s){var u=function(t,i){var s=[];if(t){e.merge(s,t)};if(i){e.merge(s,i)};s=e.map(s,function(e){return e.replace(/[.*+?|()\[\]{}\\]/g,'\\$&')});return'('+s.join('|')+')?'},o=function(e){var i=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),s={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(i){for(var t=0;t<i.length;t++){if(s[i[t].toString().charAt(0)]===-1){s[i[t].toString().charAt(0)]=t+1}}};return s},c='^'+t.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(e){var t=e.length;switch(e.charAt(0).toLowerCase()){case'h':return t===1?'(\\d?\\d)':'(\\d{'+t+'})';case'm':return t===1?'(\\d?\\d)':'(\\d{'+t+'})';case's':return t===1?'(\\d?\\d)':'(\\d{'+t+'})';case'l':return'(\\d?\\d?\\d)';case'c':return'(\\d?\\d?\\d)';case'z':return'(z|[-+]\\d\\d:?\\d\\d|\\S+)?';case't':return u(s.amNames,s.pmNames);default:return'('+e.replace(/'/g,'').replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(e){return'\\'+e})+')?'}}).replace(/\s/g,'\\s?')+s.timeSuffix+'$',a=o(t),l='',n;n=i.match(new RegExp(c,'i'));var r={hour:0,minute:0,second:0,millisec:0,microsec:0};if(n){if(a.t!==-1){if(n[a.t]===undefined||n[a.t].length===0){l='';r.ampm=''}
else{l=e.inArray(n[a.t].toUpperCase(),e.map(s.amNames,function(e,t){return e.toUpperCase()}))!==-1?'AM':'PM';r.ampm=s[l==='AM'?'amNames':'pmNames'][0]}};if(a.h!==-1){if(l==='AM'&&n[a.h]==='12'){r.hour=0}
else{if(l==='PM'&&n[a.h]!=='12'){r.hour=parseInt(n[a.h],10)+12}
else{r.hour=Number(n[a.h])}}};if(a.m!==-1){r.minute=Number(n[a.m])};if(a.s!==-1){r.second=Number(n[a.s])};if(a.l!==-1){r.millisec=Number(n[a.l])};if(a.c!==-1){r.microsec=Number(n[a.c])};if(a.z!==-1&&n[a.z]!==undefined){r.timezone=e.timepicker.timezoneOffsetNumber(n[a.z])};return r};return!1},l=function(t,i,s){try{var a=new Date('2012-01-01 '+i);if(isNaN(a.getTime())){a=new Date('2012-01-01T'+i);if(isNaN(a.getTime())){a=new Date('01/01/2012 '+i);if(isNaN(a.getTime())){throw'Unable to parse time with native Date: '+i}}};return{hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds(),millisec:a.getMilliseconds(),microsec:a.getMicroseconds(),timezone:a.getTimezoneOffset()*-1}}catch(n){try{return r(t,i,s)}catch(n){e.timepicker.log('Unable to parse \ntimeString: '+i+'\ntimeFormat: '+t)}};return!1};if(typeof n.parse==='function'){return n.parse(i,s,n)};if(n.parse==='loose'){return l(i,s,n)};return r(i,s,n)};e.datepicker.formatTime=function(t,s,a){a=a||{};a=e.extend({},e.timepicker._defaults,a);s=e.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},s);var l=t,n=a.amNames[0],r=parseInt(s.hour,10);if(r>11){n=a.pmNames[0]};l=l.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(t){switch(t){case'HH':return('0'+r).slice(-2);case'H':return r;case'hh':return('0'+i(r)).slice(-2);case'h':return i(r);case'mm':return('0'+s.minute).slice(-2);case'm':return s.minute;case'ss':return('0'+s.second).slice(-2);case's':return s.second;case'l':return('00'+s.millisec).slice(-3);case'c':return('00'+s.microsec).slice(-3);case'z':return e.timepicker.timezoneOffsetString(s.timezone===null?a.timezone:s.timezone,!1);case'Z':return e.timepicker.timezoneOffsetString(s.timezone===null?a.timezone:s.timezone,!0);case'T':return n.charAt(0).toUpperCase();case'TT':return n.toUpperCase();case't':return n.charAt(0).toLowerCase();case'tt':return n.toLowerCase();default:return t.replace(/'/g,'')}});return l};e.datepicker._base_selectDate=e.datepicker._selectDate;e.datepicker._selectDate=function(t,i){var s=this._getInst(e(t)[0]),a=this._get(s,'timepicker'),n;if(a&&s.settings.showTimepicker){a._limitMinMaxDateTime(s,!0);n=s.inline;s.inline=s.stay_open=!0;this._base_selectDate(t,i);s.inline=n;s.stay_open=!1;this._notifyChange(s);this._updateDatepicker(s)}
else{this._base_selectDate(t,i)}};e.datepicker._base_updateDatepicker=e.datepicker._updateDatepicker;e.datepicker._updateDatepicker=function(t){var s=t.input[0];if(e.datepicker._curInst&&e.datepicker._curInst!==t&&e.datepicker._datepickerShowing&&e.datepicker._lastInput!==s){return};if(typeof(t.stay_open)!=='boolean'||t.stay_open===!1){this._base_updateDatepicker(t);var i=this._get(t,'timepicker');if(i){i._addTimePicker(t)}}};e.datepicker._base_doKeyPress=e.datepicker._doKeyPress;e.datepicker._doKeyPress=function(t){var a=e.datepicker._getInst(t.target),i=e.datepicker._get(a,'timepicker');if(i){if(e.datepicker._get(a,'constrainInput')){var s=i.support.ampm,l=i._defaults.showTimezone!==null?i._defaults.showTimezone:i.support.timezone,n=e.datepicker._possibleChars(e.datepicker._get(a,'dateFormat')),u=i._defaults.timeFormat.toString().replace(/[hms]/g,'').replace(/TT/g,s?'APM':'').replace(/Tt/g,s?'AaPpMm':'').replace(/tT/g,s?'AaPpMm':'').replace(/T/g,s?'AP':'').replace(/tt/g,s?'apm':'').replace(/t/g,s?'ap':'')+' '+i._defaults.separator+i._defaults.timeSuffix+(l?i._defaults.timezoneList.join(''):'')+(i._defaults.amNames.join(''))+(i._defaults.pmNames.join(''))+n,r=String.fromCharCode(t.charCode===undefined?t.keyCode:t.charCode);return t.ctrlKey||(r<' '||!n||u.indexOf(r)>-1)}};return e.datepicker._base_doKeyPress(t)};e.datepicker._base_updateAlternate=e.datepicker._updateAlternate;e.datepicker._updateAlternate=function(t){var i=this._get(t,'timepicker');if(i){var r=i._defaults.altField;if(r){var c=i._defaults.altFormat||i._defaults.dateFormat,a=this._getDate(t),l=e.datepicker._getFormatConfig(t),s='',n=i._defaults.altSeparator?i._defaults.altSeparator:i._defaults.separator,u=i._defaults.altTimeSuffix?i._defaults.altTimeSuffix:i._defaults.timeSuffix,o=i._defaults.altTimeFormat!==null?i._defaults.altTimeFormat:i._defaults.timeFormat;s+=e.datepicker.formatTime(o,i,i._defaults)+u;if(!i._defaults.timeOnly&&!i._defaults.altFieldTimeOnly&&a!==null){if(i._defaults.altFormat){s=e.datepicker.formatDate(i._defaults.altFormat,a,l)+n+s}
else{s=i.formattedDate+n+s}};e(r).val(t.input.val()?s:'')}}
else{e.datepicker._base_updateAlternate(t)}};e.datepicker._base_doKeyUp=e.datepicker._doKeyUp;e.datepicker._doKeyUp=function(t){var s=e.datepicker._getInst(t.target),a=e.datepicker._get(s,'timepicker');if(a){if(a._defaults.timeOnly&&(s.input.val()!==s.lastVal)){try{e.datepicker._updateDatepicker(s)}catch(i){e.timepicker.log(i)}}};return e.datepicker._base_doKeyUp(t)};e.datepicker._base_gotoToday=e.datepicker._gotoToday;e.datepicker._gotoToday=function(t){var a=this._getInst(e(t)[0]);this._base_gotoToday(t);var s=this._get(a,'timepicker');if(!s){return};var n=e.timepicker.timezoneOffsetNumber(s.timezone),i=new Date();i.setMinutes(i.getMinutes()+i.getTimezoneOffset()+parseInt(n,10));this._setTime(a,i);this._setDate(a,i);s._onSelectHandler()};e.datepicker._disableTimepickerDatepicker=function(t){var i=this._getInst(t);if(!i){return};var s=this._get(i,'timepicker');e(t).datepicker('getDate');if(s){i.settings.showTimepicker=!1;s._defaults.showTimepicker=!1;s._updateDateTime(i)}};e.datepicker._enableTimepickerDatepicker=function(t){var i=this._getInst(t);if(!i){return};var s=this._get(i,'timepicker');e(t).datepicker('getDate');if(s){i.settings.showTimepicker=!0;s._defaults.showTimepicker=!0;s._addTimePicker(i);s._updateDateTime(i)}};e.datepicker._setTime=function(e,t){var i=this._get(e,'timepicker');if(i){var s=i._defaults;i.hour=t?t.getHours():s.hour;i.minute=t?t.getMinutes():s.minute;i.second=t?t.getSeconds():s.second;i.millisec=t?t.getMilliseconds():s.millisec;i.microsec=t?t.getMicroseconds():s.microsec;i._limitMinMaxDateTime(e,!0);i._onTimeChange();i._updateDateTime(e)}};e.datepicker._setTimeDatepicker=function(e,t,i){var n=this._getInst(e);if(!n){return};var a=this._get(n,'timepicker');if(a){this._setDateFromField(n);var s;if(t){if(typeof t==='string'){a._parseTime(t,i);s=new Date();s.setHours(a.hour,a.minute,a.second,a.millisec);s.setMicroseconds(a.microsec)}
else{s=new Date(t.getTime());s.setMicroseconds(t.getMicroseconds())};if(s.toString()==='Invalid Date'){s=undefined};this._setTime(n,s)}}};e.datepicker._base_setDateDatepicker=e.datepicker._setDateDatepicker;e.datepicker._setDateDatepicker=function(t,i){var r=this._getInst(t),s=i;if(!r){return};if(typeof(i)==='string'){s=new Date(i);if(!s.getTime()){this._base_setDateDatepicker.apply(this,arguments);s=e(t).datepicker('getDate')}};var n=this._get(r,'timepicker'),a;if(s instanceof Date){a=new Date(s.getTime());a.setMicroseconds(s.getMicroseconds())}
else{a=s};if(n&&a){if(!n.support.timezone&&n._defaults.timezone===null){n.timezone=a.getTimezoneOffset()*-1};s=e.timepicker.timezoneAdjust(s,e.timepicker.timezoneOffsetString(-s.getTimezoneOffset()),n.timezone);a=e.timepicker.timezoneAdjust(a,e.timepicker.timezoneOffsetString(-a.getTimezoneOffset()),n.timezone)};this._updateDatepicker(r);this._base_setDateDatepicker.apply(this,arguments);this._setTimeDatepicker(t,a,!0)};e.datepicker._base_getDateDatepicker=e.datepicker._getDateDatepicker;e.datepicker._getDateDatepicker=function(t,i){var n=this._getInst(t);if(!n){return};var s=this._get(n,'timepicker');if(s){if(n.lastVal===undefined){this._setDateFromField(n,i)};var a=this._getDate(n),r=null;if(s.$altInput&&s._defaults.altFieldTimeOnly){r=s.$input.val()+' '+s.$altInput.val()}
else if(s.$input.get(0).tagName!=='INPUT'&&s.$altInput){r=s.$altInput.val()}
else{r=s.$input.val()};if(a&&s._parseTime(r,!n.settings.timeOnly)){a.setHours(s.hour,s.minute,s.second,s.millisec);a.setMicroseconds(s.microsec);if(s.timezone!=null){if(!s.support.timezone&&s._defaults.timezone===null){s.timezone=a.getTimezoneOffset()*-1};a=e.timepicker.timezoneAdjust(a,s.timezone,e.timepicker.timezoneOffsetString(-a.getTimezoneOffset()))}};return a};return this._base_getDateDatepicker(t,i)};e.datepicker._base_parseDate=e.datepicker.parseDate;e.datepicker.parseDate=function(t,i,s){var n;try{n=this._base_parseDate(t,i,s)}catch(a){if(a.indexOf(':')>=0){n=this._base_parseDate(t,i.substring(0,i.length-(a.length-a.indexOf(':')-2)),s);e.timepicker.log('Error parsing the date string: '+a+'\ndate string = '+i+'\ndate format = '+t)}
else{throw a}};return n};e.datepicker._base_formatDate=e.datepicker._formatDate;e.datepicker._formatDate=function(e,t,i,s){var a=this._get(e,'timepicker');if(a){a._updateDateTime(e);return a.$input.val()};return this._base_formatDate(e)};e.datepicker._base_optionDatepicker=e.datepicker._optionDatepicker;e.datepicker._optionDatepicker=function(t,i,s){var g=this._getInst(t),u;if(!g){return null};var o=this._get(g,'timepicker');if(o){var a=null,n=null,d=null,c=o._defaults.evnts,m={},r,h,p,f;if(typeof i==='string'){if(i==='minDate'||i==='minDateTime'){a=s}
else if(i==='maxDate'||i==='maxDateTime'){n=s}
else if(i==='onSelect'){d=s}
else if(c.hasOwnProperty(i)){if(typeof(s)==='undefined'){return c[i]};m[i]=s;u={}}}
else if(typeof i==='object'){if(i.minDate){a=i.minDate}
else if(i.minDateTime){a=i.minDateTime}
else if(i.maxDate){n=i.maxDate}
else if(i.maxDateTime){n=i.maxDateTime};for(r in c){if(c.hasOwnProperty(r)&&i[r]){m[r]=i[r]}}};for(r in m){if(m.hasOwnProperty(r)){c[r]=m[r];if(!u){u=e.extend({},i)};delete u[r]}};if(u&&l(u)){return};if(a){if(a===0){a=new Date()}
else{a=new Date(a)};o._defaults.minDate=a;o._defaults.minDateTime=a}
else if(n){if(n===0){n=new Date()}
else{n=new Date(n)};o._defaults.maxDate=n;o._defaults.maxDateTime=n}
else if(d){o._defaults.onSelect=d};if(a||n){f=e(t);p=f.datetimepicker('getDate');h=this._base_optionDatepicker.call(e.datepicker,t,u||i,s);f.datetimepicker('setDate',p);return h}};if(s===undefined){return this._base_optionDatepicker.call(e.datepicker,t,i)};return this._base_optionDatepicker.call(e.datepicker,t,u||i,s)};var l=function(e){var t;for(t in e){if(e.hasOwnProperty(t)){return!1}};return!0},t=function(t,i){e.extend(t,i);for(var s in i){if(i[s]===null||i[s]===undefined){t[s]=i[s]}};return t},u=function(e){var i=e.replace(/'.*?'/g,'').toLowerCase(),t=function(e,t){return e.indexOf(t)!==-1?!0:!1};return{hour:t(i,'h'),minute:t(i,'m'),second:t(i,'s'),millisec:t(i,'l'),microsec:t(i,'c'),timezone:t(i,'z'),ampm:t(i,'t')&&t(e,'h'),iso8601:t(e,'Z')}},i=function(e){e%=12;if(e===0){e=12};return String(e)},s=function(t,i){return t&&t[i]?t[i]:e.timepicker._defaults[i]},o=function(e,t){var i=s(t,'separator'),l=s(t,'timeFormat'),u=l.split(i),n=u.length,a=e.split(i),r=a.length;if(r>1){return{dateString:a.splice(0,r-n).join(i),timeString:a.splice(0,n).join(i)}};return{dateString:e,timeString:''}},a=function(t,i,s,a,n){var l,r,u;r=o(s,n);l=e.datepicker._base_parseDate(t,r.dateString,a);if(r.timeString===''){return{date:l}};u=e.datepicker.parseTime(i,r.timeString,n);if(!u){throw'Wrong time format'};return{date:l,timeObj:u}},n=function(e,t){if(e&&e.timezone_select){var i=t||new Date();e.timezone_select.val(-i.getTimezoneOffset())}};e.timepicker=new r();e.timepicker.timezoneOffsetString=function(e,t){if(isNaN(e)||e>840||e<-720){return e};var i=e,s=i%60,n=(i-s)/60,r=t?':':'',a=(i>=0?'+':'-')+('0'+Math.abs(n)).slice(-2)+r+('0'+Math.abs(s)).slice(-2);if(a==='+00:00'){return'Z'};return a};e.timepicker.timezoneOffsetNumber=function(e){var t=e.toString().replace(':','');if(t.toUpperCase()==='Z'){return 0};if(!/^(\-|\+)\d{4}$/.test(t)){return parseInt(e,10)};return((t.substr(0,1)==='-'?-1:1)*((parseInt(t.substr(1,2),10)*60)+parseInt(t.substr(3,2),10)))};e.timepicker.timezoneAdjust=function(t,i,s){var n=e.timepicker.timezoneOffsetNumber(i),a=e.timepicker.timezoneOffsetNumber(s);if(!isNaN(a)){t.setMinutes(t.getMinutes()+(-n)-(-a))};return t};e.timepicker.timeRange=function(t,i,s){return e.timepicker.handleRange('timepicker',t,i,s)};e.timepicker.datetimeRange=function(t,i,s){e.timepicker.handleRange('datetimepicker',t,i,s)};e.timepicker.dateRange=function(t,i,s){e.timepicker.handleRange('datepicker',t,i,s)};e.timepicker.handleRange=function(t,i,s,a){a=e.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},a);var r=!1;if(t==='timepicker'){r=!0;t='datetimepicker'};function l(e,n){var u=i[t]('getDate'),o=s[t]('getDate'),c=e[t]('getDate');if(u!==null){var r=new Date(u.getTime()),l=new Date(u.getTime());r.setMilliseconds(r.getMilliseconds()+a.minInterval);l.setMilliseconds(l.getMilliseconds()+a.maxInterval);if(a.minInterval>0&&r>o){s[t]('setDate',r)}
else if(a.maxInterval>0&&l<o){s[t]('setDate',l)}
else if(u>o){n[t]('setDate',c)}}};function n(e,i,s){if(!e.val()){return};var n=e[t].call(e,'getDate');if(n!==null&&a.minInterval>0){if(s==='minDate'){n.setMilliseconds(n.getMilliseconds()+a.minInterval)};if(s==='maxDate'){n.setMilliseconds(n.getMilliseconds()-a.minInterval)}};if(n.getTime){i[t].call(i,'option',s,n)}};e.fn[t].call(i,e.extend({timeOnly:r,onClose:function(t,i){l(e(this),s)},onSelect:function(t){n(e(this),s,'minDate')}},a,a.start));e.fn[t].call(s,e.extend({timeOnly:r,onClose:function(t,s){l(e(this),i)},onSelect:function(t){n(e(this),i,'maxDate')}},a,a.end));l(i,s);n(i,s,'minDate');n(s,i,'maxDate');return e([i.get(0),s.get(0)])};e.timepicker.log=function(){if(window.console&&window.console.log&&window.console.log.apply){window.console.log.apply(window.console,Array.prototype.slice.call(arguments))}};e.timepicker._util={_extendRemove:t,_isEmptyObject:l,_convert24to12:i,_detectSupport:u,_selectLocalTimezone:n,_computeEffectiveSetting:s,_splitDateTime:o,_parseDateTimeInternal:a};if(!Date.prototype.getMicroseconds){Date.prototype.microseconds=0;Date.prototype.getMicroseconds=function(){return this.microseconds};Date.prototype.setMicroseconds=function(e){this.setMilliseconds(this.getMilliseconds()+Math.floor(e/1000));this.microseconds=e%1000;return this}};e.timepicker.version='1.6.3'}));