(function(e){if(typeof define==='function'&&define.amd){define(['jquery'],e)}
else{e(jQuery)}}(function(e){var i={exports:{}};'use strict';function r(e){'@babel/helpers - typeof';if(typeof Symbol==='function'&&typeof Symbol.iterator==='symbol'){r=function(e){return typeof e}}
else{r=function(e){return e&&typeof Symbol==='function'&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e}};return r(e)};function c(e,t){if(t&&(r(t)==='object'||typeof t==='function')){return t};return n(e)};function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)};function n(e){if(e===void 0){throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called')};return e};function g(e,t){if(typeof t!=='function'&&t!==null){throw new TypeError('Super expression must either be null or a function')};e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});if(t)o(e,t)};function o(e,t){o=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return o(e,t)};function s(e,t){if(!(e instanceof t)){throw new TypeError('Cannot call a class as a function')}};function f(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1;n.configurable=!0;if('value' in n)n.writable=!0;Object.defineProperty(e,n.key,n)}};function a(e,t,n){if(t)f(e.prototype,t);if(n)f(e,n);return e};var d=function(){function e(){s(this,e)};a(e,[{key:'on',value:function(e,t){this._callbacks=this._callbacks||{};if(!this._callbacks[e]){this._callbacks[e]=[]};this._callbacks[e].push(t);return this}},{key:'emit',value:function(e){this._callbacks=this._callbacks||{};var d=this._callbacks[e];if(d){for(var a=arguments.length,u=new Array(a>1?a-1:0),n=1;n<a;n++){u[n-1]=arguments[n]};var r=!0,o=!1,s=undefined;try{for(var i=d[Symbol.iterator](),l;!(r=(l=i.next()).done);r=!0){var c=l.value;c.apply(this,u)}}catch(t){o=!0;s=t}finally{try{if(!r&&i['return']!=null){i['return']()}}finally{if(o){throw s}}}};return this}},{key:'off',value:function(e,t){if(!this._callbacks||arguments.length===0){this._callbacks={};return this};var i=this._callbacks[e];if(!i){return this};if(arguments.length===1){delete this._callbacks[e];return this};for(var n=0;n<i.length;n++){var r=i[n];if(r===t){i.splice(n,1);break}};return this}}]);return e}(),t=function(e){g(t,e);a(t,null,[{key:'initClass',value:function(){this.prototype.Emitter=d;this.prototype.events=['drop','dragstart','dragend','dragenter','dragover','dragleave','addedfile','addedfiles','removedfile','thumbnail','error','errormultiple','processing','processingmultiple','uploadprogress','totaluploadprogress','sending','sendingmultiple','success','successmultiple','canceled','canceledmultiple','complete','completemultiple','reset','maxfilesexceeded','maxfilesreached','queuecomplete'];this.prototype.defaultOptions={url:null,method:'post',withCredentials:!1,timeout:30000,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2000000,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:'file',createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:'crop',resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:0.8,resizeMethod:'contain',filesizeBase:1000,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:'body',capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:'Drop files here to upload',dictFallbackMessage:'Your browser does not support drag\'n\'drop file uploads.',dictFallbackText:'Please use the fallback form below to upload your files like in the olden days.',dictFileTooBig:'File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.',dictInvalidFileType:'You can\'t upload files of this type.',dictResponseError:'Server responded with {{statusCode}} code.',dictCancelUpload:'Cancel upload',dictUploadCanceled:'Upload canceled.',dictCancelUploadConfirmation:'Are you sure you want to cancel this upload?',dictRemoveFile:'Remove file',dictRemoveFileConfirmation:null,dictMaxFilesExceeded:'You can not upload any more files.',dictFileSizeUnits:{tb:'TB',gb:'GB',mb:'MB',kb:'KB',b:'b'},init:function(){},params:function(e,t,n){if(n){return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var i;this.element.className=''.concat(this.element.className,' dz-browser-not-supported');var l=!0,s=!1,u=undefined;try{for(var a=this.element.getElementsByTagName('div')[Symbol.iterator](),o;!(l=(o=a.next()).done);l=!0){var r=o.value;if(/(^| )dz-message($| )/.test(r.className)){i=r;r.className='dz-message';break}}}catch(e){s=!0;u=e}finally{try{if(!l&&a['return']!=null){a['return']()}}finally{if(s){throw u}}};if(!i){i=t.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(i)};var n=i.getElementsByTagName('span')[0];if(n){if(n.textContent!=null){n.textContent=this.options.dictFallbackMessage}
else if(n.innerText!=null){n.innerText=this.options.dictFallbackMessage}};return this.element.appendChild(this.getFallbackForm())},resize:function(e,t,n,r){var i={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height};var a=e.width/e.height;if(t==null&&n==null){t=i.srcWidth;n=i.srcHeight}
else if(t==null){t=n*a}
else if(n==null){n=t/a};t=Math.min(t,i.srcWidth);n=Math.min(n,i.srcHeight);var l=t/n;if(i.srcWidth>t||i.srcHeight>n){if(r==='crop'){if(a>l){i.srcHeight=e.height;i.srcWidth=i.srcHeight*l}
else{i.srcWidth=e.width;i.srcHeight=i.srcWidth/l}}
else if(r==='contain'){if(a>l){n=t/a}
else{t=n*a}}
else{throw new Error('Unknown resizeMethod \''.concat(r,'\''))}};i.srcX=(e.width-i.srcWidth)/2;i.srcY=(e.height-i.srcHeight)/2;i.trgWidth=t;i.trgHeight=n;return i},transformFile:function(e,t){if((this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)){return this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t)}
else{return t(e)}},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Check</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Error</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(e){return this.element.classList.remove('dz-drag-hover')},dragstart:function(e){},dragend:function(e){return this.element.classList.remove('dz-drag-hover')},dragenter:function(e){return this.element.classList.add('dz-drag-hover')},dragover:function(e){return this.element.classList.add('dz-drag-hover')},dragleave:function(e){return this.element.classList.remove('dz-drag-hover')},paste:function(e){},reset:function(){return this.element.classList.remove('dz-started')},addedfile:function(e){var i=this;if(this.element===this.previewsContainer){this.element.classList.add('dz-started')};if(this.previewsContainer){e.previewElement=t.createElement(this.options.previewTemplate.trim());e.previewTemplate=e.previewElement;this.previewsContainer.appendChild(e.previewElement);var d=!0,g=!1,b=undefined;try{for(var u=e.previewElement.querySelectorAll('[data-dz-name]')[Symbol.iterator](),y;!(d=(y=u.next()).done);d=!0){var s=y.value;s.textContent=e.name}}catch(n){g=!0;b=n}finally{try{if(!d&&u['return']!=null){u['return']()}}finally{if(g){throw b}}};var o=!0,m=!1,v=undefined;try{for(var l=e.previewElement.querySelectorAll('[data-dz-size]')[Symbol.iterator](),p;!(o=(p=l.next()).done);o=!0){s=p.value;s.innerHTML=this.filesize(e.size)}}catch(n){m=!0;v=n}finally{try{if(!o&&l['return']!=null){l['return']()}}finally{if(m){throw v}}};if(this.options.addRemoveLinks){e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,'</a>'));e.previewElement.appendChild(e._removeLink)};var w=function(n){n.preventDefault();n.stopPropagation();if(e.status===t.UPLOADING){return t.confirm(i.options.dictCancelUploadConfirmation,function(){return i.removeFile(e)})}
else{if(i.options.dictRemoveFileConfirmation){return t.confirm(i.options.dictRemoveFileConfirmation,function(){return i.removeFile(e)})}
else{return i.removeFile(e)}}},a=!0,f=!1,h=undefined;try{for(var r=e.previewElement.querySelectorAll('[data-dz-remove]')[Symbol.iterator](),c;!(a=(c=r.next()).done);a=!0){var k=c.value;k.addEventListener('click',w)}}catch(n){f=!0;h=n}finally{try{if(!a&&r['return']!=null){r['return']()}}finally{if(f){throw h}}}}},removedfile:function(e){if(e.previewElement!=null&&e.previewElement.parentNode!=null){e.previewElement.parentNode.removeChild(e.previewElement)};return this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove('dz-file-preview');var r=!0,o=!1,s=undefined;try{for(var i=e.previewElement.querySelectorAll('[data-dz-thumbnail]')[Symbol.iterator](),l;!(r=(l=i.next()).done);r=!0){var a=l.value;a.alt=e.name;a.src=t}}catch(n){o=!0;s=n}finally{try{if(!r&&i['return']!=null){i['return']()}}finally{if(o){throw s}}};return setTimeout(function(){return e.previewElement.classList.add('dz-image-preview')},1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add('dz-error');if(typeof t!=='String'&&t.error){t=t.error};var r=!0,l=!1,o=undefined;try{for(var i=e.previewElement.querySelectorAll('[data-dz-errormessage]')[Symbol.iterator](),a;!(r=(a=i.next()).done);r=!0){var s=a.value;s.textContent=t}}catch(n){l=!0;o=n}finally{try{if(!r&&i['return']!=null){i['return']()}}finally{if(l){throw o}}}}},errormultiple:function(){},processing:function(e){if(e.previewElement){e.previewElement.classList.add('dz-processing');if(e._removeLink){return e._removeLink.innerHTML=this.options.dictCancelUpload}}},processingmultiple:function(){},uploadprogress:function(e,t,i){if(e.previewElement){var l=!0,s=!1,u=undefined;try{for(var a=e.previewElement.querySelectorAll('[data-dz-uploadprogress]')[Symbol.iterator](),o;!(l=(o=a.next()).done);l=!0){var r=o.value;r.nodeName==='PROGRESS'?r.value=t:r.style.width=''.concat(t,'%')}}catch(n){s=!0;u=n}finally{try{if(!l&&a['return']!=null){a['return']()}}finally{if(s){throw u}}}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement){return e.previewElement.classList.add('dz-success')}},successmultiple:function(){},canceled:function(e){return this.emit('error',e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink){e._removeLink.innerHTML=this.options.dictRemoveFile};if(e.previewElement){return e.previewElement.classList.add('dz-complete')}},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}};this.prototype._thumbnailQueue=[];this.prototype._processingThumbnail=!1}},{key:'extend',value:function(e){for(var i=arguments.length,o=new Array(i>1?i-1:0),t=1;t<i;t++){o[t-1]=arguments[t]};for(var n=0,l=o;n<l.length;n++){var a=l[n];for(var r in a){var s=a[r];e[r]=s}};return e}}]);function t(e,r){var i;s(this,t);i=c(this,l(t).call(this));var a,o;i.element=e;i.version=t.version;i.defaultOptions.previewTemplate=i.defaultOptions.previewTemplate.replace(/\n*/g,'');i.clickableElements=[];i.listeners=[];i.files=[];if(typeof i.element==='string'){i.element=document.querySelector(i.element)};if(!i.element||i.element.nodeType==null){throw new Error('Invalid dropzone element.')};if(i.element.dropzone){throw new Error('Dropzone already attached.')};t.instances.push(n(i));i.element.dropzone=n(i);var u=(o=t.optionsForElement(i.element))!=null?o:{};i.options=t.extend({},i.defaultOptions,u,r!=null?r:{});if(i.options.forceFallback||!t.isBrowserSupported()){return c(i,i.options.fallback.call(n(i)))};if(i.options.url==null){i.options.url=i.element.getAttribute('action')};if(!i.options.url){throw new Error('No URL provided.')};if(i.options.acceptedFiles&&i.options.acceptedMimeTypes){throw new Error('You can\'t provide both \'acceptedFiles\' and \'acceptedMimeTypes\'. \'acceptedMimeTypes\' is deprecated.')};if(i.options.uploadMultiple&&i.options.chunking){throw new Error('You cannot set both: uploadMultiple and chunking.')};if(i.options.acceptedMimeTypes){i.options.acceptedFiles=i.options.acceptedMimeTypes;delete i.options.acceptedMimeTypes};if(i.options.renameFilename!=null){i.options.renameFile=function(e){return i.options.renameFilename.call(n(i),e.name,e)}};i.options.method=i.options.method.toUpperCase();if((a=i.getExistingFallback())&&a.parentNode){a.parentNode.removeChild(a)};if(i.options.previewsContainer!==!1){if(i.options.previewsContainer){i.previewsContainer=t.getElement(i.options.previewsContainer,'previewsContainer')}
else{i.previewsContainer=i.element}};if(i.options.clickable){if(i.options.clickable===!0){i.clickableElements=[i.element]}
else{i.clickableElements=t.getElements(i.options.clickable,'clickable')}};i.init();return i};a(t,[{key:'getAcceptedFiles',value:function(){return this.files.filter(function(e){return e.accepted}).map(function(e){return e})}},{key:'getRejectedFiles',value:function(){return this.files.filter(function(e){return!e.accepted}).map(function(e){return e})}},{key:'getFilesWithStatus',value:function(e){return this.files.filter(function(t){return t.status===e}).map(function(e){return e})}},{key:'getQueuedFiles',value:function(){return this.getFilesWithStatus(t.QUEUED)}},{key:'getUploadingFiles',value:function(){return this.getFilesWithStatus(t.UPLOADING)}},{key:'getAddedFiles',value:function(){return this.getFilesWithStatus(t.ADDED)}},{key:'getActiveFiles',value:function(){return this.files.filter(function(e){return e.status===t.UPLOADING||e.status===t.QUEUED}).map(function(e){return e})}},{key:'init',value:function(){var e=this;if(this.element.tagName==='form'){this.element.setAttribute('enctype','multipart/form-data')};if(this.element.classList.contains('dropzone')&&!this.element.querySelector('.dz-message')){this.element.appendChild(t.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,'</button></div>')))};if(this.clickableElements.length){var c=function f(){if(e.hiddenFileInput){e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput)};e.hiddenFileInput=document.createElement('input');e.hiddenFileInput.setAttribute('type','file');if(e.options.maxFiles===null||e.options.maxFiles>1){e.hiddenFileInput.setAttribute('multiple','multiple')};e.hiddenFileInput.className='dz-hidden-input';if(e.options.acceptedFiles!==null){e.hiddenFileInput.setAttribute('accept',e.options.acceptedFiles)};if(e.options.capture!==null){e.hiddenFileInput.setAttribute('capture',e.options.capture)};e.hiddenFileInput.style.visibility='hidden';e.hiddenFileInput.style.position='absolute';e.hiddenFileInput.style.top='0';e.hiddenFileInput.style.left='0';e.hiddenFileInput.style.height='0';e.hiddenFileInput.style.width='0';t.getElement(e.options.hiddenInputContainer,'hiddenInputContainer').appendChild(e.hiddenFileInput);return e.hiddenFileInput.addEventListener('change',function(){var r=e.hiddenFileInput.files;if(r.length){var i=!0,l=!1,o=undefined;try{for(var n=r[Symbol.iterator](),a;!(i=(a=n.next()).done);i=!0){var s=a.value;e.addFile(s)}}catch(t){l=!0;o=t}finally{try{if(!i&&n['return']!=null){n['return']()}}finally{if(l){throw o}}}};e.emit('addedfiles',r);return f()})};c()};this.URL=window.URL!==null?window.URL:window.webkitURL;var a=!0,s=!1,u=undefined;try{for(var r=this.events[Symbol.iterator](),o;!(a=(o=r.next()).done);a=!0){var l=o.value;this.on(l,this.options[l])}}catch(n){s=!0;u=n}finally{try{if(!a&&r['return']!=null){r['return']()}}finally{if(s){throw u}}};this.on('uploadprogress',function(){return e.updateTotalUploadProgress()});this.on('removedfile',function(){return e.updateTotalUploadProgress()});this.on('canceled',function(t){return e.emit('complete',t)});this.on('complete',function(t){if(e.getAddedFiles().length===0&&e.getUploadingFiles().length===0&&e.getQueuedFiles().length===0){return setTimeout(function(){return e.emit('queuecomplete')},0)}});var d=function(e){return e.dataTransfer.types&&e.dataTransfer.types.some(function(e){return e=='Files'})},i=function(e){if(!d(e))return;e.stopPropagation();if(e.preventDefault){return e.preventDefault()}
else{return e.returnValue=!1}};this.listeners=[{element:this.element,events:{'dragstart':function(t){return e.emit('dragstart',t)},'dragenter':function(t){i(t);return e.emit('dragenter',t)},'dragover':function(t){var r;try{r=t.dataTransfer.effectAllowed}catch(n){};t.dataTransfer.dropEffect='move'===r||'linkMove'===r?'move':'copy';i(t);return e.emit('dragover',t)},'dragleave':function(t){return e.emit('dragleave',t)},'drop':function(t){i(t);return e.drop(t)},'dragend':function(t){return e.emit('dragend',t)}}}];this.clickableElements.forEach(function(n){return e.listeners.push({element:n,events:{'click':function(i){if(n!==e.element||i.target===e.element||t.elementInside(i.target,e.element.querySelector('.dz-message'))){e.hiddenFileInput.click()};return!0}}})});this.enable();return this.options.init.call(this)}},{key:'destroy',value:function(){this.disable();this.removeAllFiles(!0);if(this.hiddenFileInput!=null?this.hiddenFileInput.parentNode:undefined){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null};delete this.element.dropzone;return t.instances.splice(t.instances.indexOf(this),1)}},{key:'updateTotalUploadProgress',value:function(){var i,r=0,a=0,d=this.getActiveFiles();if(d.length){var n=!0,s=!1,u=undefined;try{for(var t=this.getActiveFiles()[Symbol.iterator](),o;!(n=(o=t.next()).done);n=!0){var l=o.value;r+=l.upload.bytesSent;a+=l.upload.total}}catch(e){s=!0;u=e}finally{try{if(!n&&t['return']!=null){t['return']()}}finally{if(s){throw u}}};i=100*r/a}
else{i=100};return this.emit('totaluploadprogress',i,a,r)}},{key:'_getParamName',value:function(e){if(typeof this.options.paramName==='function'){return this.options.paramName(e)}
else{return''.concat(this.options.paramName).concat(this.options.uploadMultiple?'['.concat(e,']'):'')}}},{key:'_renameFile',value:function(e){if(typeof this.options.renameFile!=='function'){return e.name};return this.options.renameFile(e)}},{key:'getFallbackForm',value:function(){var r,e;if(r=this.getExistingFallback()){return r};var n='<div class="dz-fallback">';if(this.options.dictFallbackText){n+='<p>'.concat(this.options.dictFallbackText,'</p>')};n+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':undefined,' /><input type="submit" value="Upload!"></div>');var i=t.createElement(n);if(this.element.tagName!=='FORM'){e=t.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'));e.appendChild(i)}
else{this.element.setAttribute('enctype','multipart/form-data');this.element.setAttribute('method',this.options.method)};return e!=null?e:i}},{key:'getExistingFallback',value:function(){var r=function(e){var i=!0,l=!1,o=undefined;try{for(var n=e[Symbol.iterator](),a;!(i=(a=n.next()).done);i=!0){var r=a.value;if(/(^| )fallback($| )/.test(r.className)){return r}}}catch(t){l=!0;o=t}finally{try{if(!i&&n['return']!=null){n['return']()}}finally{if(l){throw o}}}};for(var e=0,n=['div','form'];e<n.length;e++){var i=n[e],t;if(t=r(this.element.getElementsByTagName(i))){return t}}}},{key:'setupEventListeners',value:function(){return this.listeners.map(function(e){return function(){var n=[];for(var t in e.events){var i=e.events[t];n.push(e.element.addEventListener(t,i,!1))};return n}()})}},{key:'removeEventListeners',value:function(){return this.listeners.map(function(e){return function(){var n=[];for(var t in e.events){var i=e.events[t];n.push(e.element.removeEventListener(t,i,!1))};return n}()})}},{key:'disable',value:function(){var e=this;this.clickableElements.forEach(function(e){return e.classList.remove('dz-clickable')});this.removeEventListeners();this.disabled=!0;return this.files.map(function(t){return e.cancelUpload(t)})}},{key:'enable',value:function(){delete this.disabled;this.clickableElements.forEach(function(e){return e.classList.add('dz-clickable')});return this.setupEventListeners()}},{key:'filesize',value:function(e){var n=0,r='b';if(e>0){var i=['tb','gb','mb','kb','b'];for(var t=0;t<i.length;t++){var a=i[t],l=Math.pow(this.options.filesizeBase,4-t)/10;if(e>=l){n=e/Math.pow(this.options.filesizeBase,4-t);r=a;break}};n=Math.round(10*n)/10};return'<strong>'.concat(n,'</strong> ').concat(this.options.dictFileSizeUnits[r])}},{key:'_updateMaxFilesReachedClass',value:function(){if(this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit('maxfilesreached',this.files)};return this.element.classList.add('dz-max-files-reached')}
else{return this.element.classList.remove('dz-max-files-reached')}}},{key:'drop',value:function(e){if(!e.dataTransfer){return};this.emit('drop',e);var i=[];for(var n=0;n<e.dataTransfer.files.length;n++){i[n]=e.dataTransfer.files[n]};if(i.length){var t=e.dataTransfer.items;if(t&&t.length&&t[0].webkitGetAsEntry!=null){this._addFilesFromItems(t)}
else{this.handleFiles(i)}};this.emit('addedfiles',i)}},{key:'paste',value:function(e){if(b(e!=null?e.clipboardData:undefined,function(e){return e.items})==null){return};this.emit('paste',e);var t=e.clipboardData.items;if(t.length){return this._addFilesFromItems(t)}}},{key:'handleFiles',value:function(e){var i=!0,a=!1,l=undefined;try{for(var n=e[Symbol.iterator](),r;!(i=(r=n.next()).done);i=!0){var o=r.value;this.addFile(o)}}catch(t){a=!0;l=t}finally{try{if(!i&&n['return']!=null){n['return']()}}finally{if(a){throw l}}}}},{key:'_addFilesFromItems',value:function(e){var t=this;return function(){var r=[],o=!0,u=!1,d=undefined;try{for(var l=e[Symbol.iterator](),s;!(o=(s=l.next()).done);o=!0){var i=s.value,a;if(i.webkitGetAsEntry!=null&&(a=i.webkitGetAsEntry())){if(a.isFile){r.push(t.addFile(i.getAsFile()))}
else if(a.isDirectory){r.push(t._addFilesFromDirectory(a,a.name))}
else{r.push(undefined)}}
else if(i.getAsFile!=null){if(i.kind==null||i.kind==='file'){r.push(t.addFile(i.getAsFile()))}
else{r.push(undefined)}}
else{r.push(undefined)}}}catch(n){u=!0;d=n}finally{try{if(!o&&l['return']!=null){l['return']()}}finally{if(u){throw d}}};return r}()}},{key:'_addFilesFromDirectory',value:function(e,t){var n=this,i=e.createReader(),r=function(e){return k(console,'log',function(t){return t.log(e)})},a=function l(){return i.readEntries(function(e){if(e.length>0){var o=!0,u=!1,d=undefined;try{for(var a=e[Symbol.iterator](),s;!(o=(s=a.next()).done);o=!0){var r=s.value;if(r.isFile){r.file(function(e){if(n.options.ignoreHiddenFiles&&e.name.substring(0,1)==='.'){return};e.fullPath=''.concat(t,'/').concat(e.name);return n.addFile(e)})}
else if(r.isDirectory){n._addFilesFromDirectory(r,''.concat(t,'/').concat(r.name))}}}catch(i){u=!0;d=i}finally{try{if(!o&&a['return']!=null){a['return']()}}finally{if(u){throw d}}};l()};return null},r)};return a()}},{key:'accept',value:function(e,n){if(this.options.maxFilesize&&e.size>this.options.maxFilesize*1024*1024){n(this.options.dictFileTooBig.replace('{{filesize}}',Math.round(e.size/1024/10.24)/100).replace('{{maxFilesize}}',this.options.maxFilesize))}
else if(!t.isValidFile(e,this.options.acceptedFiles)){n(this.options.dictInvalidFileType)}
else if(this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles){n(this.options.dictMaxFilesExceeded.replace('{{maxFiles}}',this.options.maxFiles));this.emit('maxfilesexceeded',e)}
else{this.options.accept.call(this,e,n)}}},{key:'addFile',value:function(e){var n=this;e.upload={uuid:t.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)};this.files.push(e);e.status=t.ADDED;this.emit('addedfile',e);this._enqueueThumbnail(e);this.accept(e,function(t){if(t){e.accepted=!1;n._errorProcessing([e],t)}
else{e.accepted=!0;if(n.options.autoQueue){n.enqueueFile(e)}};n._updateMaxFilesReachedClass()})}},{key:'enqueueFiles',value:function(e){var i=!0,a=!1,l=undefined;try{for(var n=e[Symbol.iterator](),r;!(i=(r=n.next()).done);i=!0){var o=r.value;this.enqueueFile(o)}}catch(t){a=!0;l=t}finally{try{if(!i&&n['return']!=null){n['return']()}}finally{if(a){throw l}}};return null}},{key:'enqueueFile',value:function(e){var n=this;if(e.status===t.ADDED&&e.accepted===!0){e.status=t.QUEUED;if(this.options.autoProcessQueue){return setTimeout(function(){return n.processQueue()},0)}}
else{throw new Error('This file can\'t be queued because it has already been processed or was rejected.')}}},{key:'_enqueueThumbnail',value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(e);return setTimeout(function(){return t._processThumbnailQueue()},0)}}},{key:'_processThumbnailQueue',value:function(){var e=this;if(this._processingThumbnail||this._thumbnailQueue.length===0){return};this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(n){e.emit('thumbnail',t,n);e._processingThumbnail=!1;return e._processThumbnailQueue()})}},{key:'removeFile',value:function(e){if(e.status===t.UPLOADING){this.cancelUpload(e)};this.files=v(this.files,e);this.emit('removedfile',e);if(this.files.length===0){return this.emit('reset')}}},{key:'removeAllFiles',value:function(e){if(e==null){e=!1};var r=!0,o=!1,s=undefined;try{for(var i=this.files.slice()[Symbol.iterator](),l;!(r=(l=i.next()).done);r=!0){var a=l.value;if(a.status!==t.UPLOADING||e){this.removeFile(a)}}}catch(n){o=!0;s=n}finally{try{if(!r&&i['return']!=null){i['return']()}}finally{if(o){throw s}}};return null}},{key:'resizeImage',value:function(e,n,i,r,a){var l=this;return this.createThumbnail(e,n,i,r,!0,function(n,i){if(i==null){return a(e)}
else{var r=l.options.resizeMimeType;if(r==null){r=e.type};var o=i.toDataURL(r,l.options.resizeQuality);if(r==='image/jpeg'||r==='image/jpg'){o=u.restore(e.dataURL,o)};return a(t.dataURItoBlob(o))}})}},{key:'createThumbnail',value:function(e,t,n,i,a,r){var o=this,l=new FileReader();l.onload=function(){e.dataURL=l.result;if(e.type==='image/svg+xml'){if(r!=null){r(l.result)};return};o.createThumbnailFromUrl(e,t,n,i,a,r)};l.readAsDataURL(e)}},{key:'displayExistingFile',value:function(e,t,n,i){var a=this,l=arguments.length>4&&arguments[4]!==undefined?arguments[4]:!0;this.emit('addedfile',e);this.emit('complete',e);if(!l){this.emit('thumbnail',e,t);if(n)n()}
else{var r=function(t){a.emit('thumbnail',e,t);if(n)n()};e.dataURL=t;this.createThumbnailFromUrl(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.resizeMethod,this.options.fixOrientation,r,i)}}},{key:'createThumbnailFromUrl',value:function(e,t,n,r,l,a,o){var s=this,i=document.createElement('img');if(o){i.crossOrigin=o};i.onload=function(){var o=function(e){return e(1)};if(typeof EXIF!=='undefined'&&EXIF!==null&&l){o=function(e){return EXIF.getData(i,function(){return e(EXIF.getTag(this,'Orientation'))})}};return o(function(l){e.width=i.width;e.height=i.height;var o=s.options.resize.call(s,e,t,n,r),d=document.createElement('canvas'),u=d.getContext('2d');d.width=o.trgWidth;d.height=o.trgHeight;if(l>4){d.width=o.trgHeight;d.height=o.trgWidth};switch(l){case 2:u.translate(d.width,0);u.scale(-1,1);break;case 3:u.translate(d.width,d.height);u.rotate(Math.PI);break;case 4:u.translate(0,d.height);u.scale(1,-1);break;case 5:u.rotate(0.5*Math.PI);u.scale(1,-1);break;case 6:u.rotate(0.5*Math.PI);u.translate(0,-d.width);break;case 7:u.rotate(0.5*Math.PI);u.translate(d.height,-d.width);u.scale(-1,1);break;case 8:u.rotate(-0.5*Math.PI);u.translate(-d.height,0);break};m(u,i,o.srcX!=null?o.srcX:0,o.srcY!=null?o.srcY:0,o.srcWidth,o.srcHeight,o.trgX!=null?o.trgX:0,o.trgY!=null?o.trgY:0,o.trgWidth,o.trgHeight);var c=d.toDataURL('image/png');if(a!=null){return a(c,d)}})};if(a!=null){i.onerror=a};return i.src=e.dataURL}},{key:'processQueue',value:function(){var t=this.options.parallelUploads,n=this.getUploadingFiles().length,i=n;if(n>=t){return};var e=this.getQueuedFiles();if(!(e.length>0)){return};if(this.options.uploadMultiple){return this.processFiles(e.slice(0,t-n))}
else{while(i<t){if(!e.length){return};this.processFile(e.shift());i++}}}},{key:'processFile',value:function(e){return this.processFiles([e])}},{key:'processFiles',value:function(e){var a=!0,o=!1,s=undefined;try{for(var r=e[Symbol.iterator](),l;!(a=(l=r.next()).done);a=!0){var i=l.value;i.processing=!0;i.status=t.UPLOADING;this.emit('processing',i)}}catch(n){o=!0;s=n}finally{try{if(!a&&r['return']!=null){r['return']()}}finally{if(o){throw s}}};if(this.options.uploadMultiple){this.emit('processingmultiple',e)};return this.uploadFiles(e)}},{key:'_getFilesWithXhr',value:function(e){var t;return t=this.files.filter(function(t){return t.xhr===e}).map(function(e){return e})}},{key:'cancelUpload',value:function(e){if(e.status===t.UPLOADING){var l=this._getFilesWithXhr(e.xhr),o=!0,f=!1,h=undefined;try{for(var a=l[Symbol.iterator](),c;!(o=(c=a.next()).done);o=!0){var m=c.value;m.status=t.CANCELED}}catch(n){f=!0;h=n}finally{try{if(!o&&a['return']!=null){a['return']()}}finally{if(f){throw h}}};if(typeof e.xhr!=='undefined'){e.xhr.abort()};var r=!0,u=!1,d=undefined;try{for(var i=l[Symbol.iterator](),s;!(r=(s=i.next()).done);r=!0){var p=s.value;this.emit('canceled',p)}}catch(n){u=!0;d=n}finally{try{if(!r&&i['return']!=null){i['return']()}}finally{if(u){throw d}}};if(this.options.uploadMultiple){this.emit('canceledmultiple',l)}}
else if(e.status===t.ADDED||e.status===t.QUEUED){e.status=t.CANCELED;this.emit('canceled',e);if(this.options.uploadMultiple){this.emit('canceledmultiple',[e])}};if(this.options.autoProcessQueue){return this.processQueue()}}},{key:'resolveOption',value:function(e){if(typeof e==='function'){for(var n=arguments.length,i=new Array(n>1?n-1:0),t=1;t<n;t++){i[t-1]=arguments[t]};return e.apply(this,i)};return e}},{key:'uploadFile',value:function(e){return this.uploadFiles([e])}},{key:'uploadFiles',value:function(e){var n=this;this._transformFiles(e,function(i){if(n.options.chunking){var d=i[0];e[0].upload.chunked=n.options.chunking&&(n.options.forceChunking||d.size>n.options.chunkSize);e[0].upload.totalChunkCount=Math.ceil(d.size/n.options.chunkSize)};if(e[0].upload.chunked){var r=e[0],o=i[0],c=0;r.upload.chunks=[];var l=function(){var i=0;while(r.upload.chunks[i]!==undefined){i++};if(i>=r.upload.totalChunkCount)return;c++;var a=i*n.options.chunkSize,l=Math.min(a+n.options.chunkSize,r.size),s={name:n._getParamName(0),data:o.webkitSlice?o.webkitSlice(a,l):o.slice(a,l),filename:r.upload.filename,chunkIndex:i};r.upload.chunks[i]={file:r,index:i,dataBlock:s,status:t.UPLOADING,progress:0,retries:0};n._uploadData(e,[s])};r.upload.finishedChunkUpload=function(i){var o=!0;i.status=t.SUCCESS;i.dataBlock=null;i.xhr=null;for(var a=0;a<r.upload.totalChunkCount;a++){if(r.upload.chunks[a]===undefined){return l()};if(r.upload.chunks[a].status!==t.SUCCESS){o=!1}};if(o){n.options.chunksUploaded(r,function(){n._finished(e,'',null)})}};if(n.options.parallelChunkUploads){for(var u=0;u<r.upload.totalChunkCount;u++){l()}}
else{l()}}
else{var s=[];for(var a=0;a<e.length;a++){s[a]={name:n._getParamName(a),data:i[a],filename:e[a].upload.filename}};n._uploadData(e,s)}})}},{key:'_getChunk',value:function(e,t){for(var n=0;n<e.upload.totalChunkCount;n++){if(e.upload.chunks[n]!==undefined&&e.upload.chunks[n].xhr===t){return e.upload.chunks[n]}}}},{key:'_uploadData',value:function(e,n){var o=this,r=new XMLHttpRequest(),p=!0,F=!1,x=undefined;try{for(var h=e[Symbol.iterator](),w;!(p=(w=h.next()).done);p=!0){var T=w.value;T.xhr=r}}catch(i){F=!0;x=i}finally{try{if(!p&&h['return']!=null){h['return']()}}finally{if(F){throw x}}};if(e[0].upload.chunked){e[0].upload.chunks[n[0].chunkIndex].xhr=r};var S=this.resolveOption(this.options.method,e),L=this.resolveOption(this.options.url,e);r.open(S,L,!0);r.timeout=this.resolveOption(this.options.timeout,e);r.withCredentials=!!this.options.withCredentials;r.onload=function(t){o._finishedUploading(e,r,t)};r.ontimeout=function(){o._handleUploadError(e,r,'Request timedout after '.concat(o.options.timeout,' seconds'))};r.onerror=function(){o._handleUploadError(e,r)};var z=r.upload!=null?r.upload:r;z.onprogress=function(t){return o._updateFilesUploadProgress(e,r,t)};var f={'Accept':'application/json','Cache-Control':'no-cache','X-Requested-With':'XMLHttpRequest'};if(this.options.headers){t.extend(f,this.options.headers)};for(var k in f){var b=f[k];if(b){r.setRequestHeader(k,b)}};var a=new FormData();if(this.options.params){var l=this.options.params;if(typeof l==='function'){l=l.call(this,e,r,e[0].upload.chunked?this._getChunk(e[0],r):null)};for(var g in l){var C=l[g];a.append(g,C)}};var c=!0,v=!1,y=undefined;try{for(var d=e[Symbol.iterator](),m;!(c=(m=d.next()).done);c=!0){var E=m.value;this.emit('sending',E,r,a)}}catch(i){v=!0;y=i}finally{try{if(!c&&d['return']!=null){d['return']()}}finally{if(v){throw y}}};if(this.options.uploadMultiple){this.emit('sendingmultiple',e,r,a)};this._addFormElementData(a);for(var u=0;u<n.length;u++){var s=n[u];a.append(s.name,s.data,s.filename)};this.submitRequest(r,a,e)}},{key:'_transformFiles',value:function(e,t){var i=this,r=[],a=0,l=function(n){i.options.transformFile.call(i,e[n],function(i){r[n]=i;if(++a===e.length){t(r)}})};for(var n=0;n<e.length;n++){l(n)}}},{key:'_addFormElementData',value:function(e){if(this.element.tagName==='FORM'){var s=!0,p=!1,m=undefined;try{for(var o=this.element.querySelectorAll('input, textarea, select, button')[Symbol.iterator](),h;!(s=(h=o.next()).done);s=!0){var n=h.value,r=n.getAttribute('name'),i=n.getAttribute('type');if(i)i=i.toLowerCase();if(typeof r==='undefined'||r===null)continue;if(n.tagName==='SELECT'&&n.hasAttribute('multiple')){var l=!0,c=!1,f=undefined;try{for(var a=n.options[Symbol.iterator](),d;!(l=(d=a.next()).done);l=!0){var u=d.value;if(u.selected){e.append(r,u.value)}}}catch(t){c=!0;f=t}finally{try{if(!l&&a['return']!=null){a['return']()}}finally{if(c){throw f}}}}
else if(!i||i!=='checkbox'&&i!=='radio'||n.checked){e.append(r,n.value)}}}catch(t){p=!0;m=t}finally{try{if(!s&&o['return']!=null){o['return']()}}finally{if(p){throw m}}}}}},{key:'_updateFilesUploadProgress',value:function(e,t,i){var o;if(typeof i!=='undefined'){o=100*i.loaded/i.total;if(e[0].upload.chunked){var r=e[0],g=this._getChunk(r,t);g.progress=o;g.total=i.total;g.bytesSent=i.loaded;var D=0,I,R;r.upload.progress=0;r.upload.total=0;r.upload.bytesSent=0;for(var a=0;a<r.upload.totalChunkCount;a++){if(r.upload.chunks[a]!==undefined&&r.upload.chunks[a].progress!==undefined){r.upload.progress+=r.upload.chunks[a].progress;r.upload.total+=r.upload.chunks[a].total;r.upload.bytesSent+=r.upload.chunks[a].bytesSent}};r.upload.progress=r.upload.progress/r.upload.totalChunkCount}
else{var y=!0,U=!1,M=undefined;try{for(var v=e[Symbol.iterator](),A;!(y=(A=v.next()).done);y=!0){var m=A.value;m.upload.progress=o;m.upload.total=i.total;m.upload.bytesSent=i.loaded}}catch(n){U=!0;M=n}finally{try{if(!y&&v['return']!=null){v['return']()}}finally{if(U){throw M}}}};var p=!0,L=!1,T=undefined;try{for(var h=e[Symbol.iterator](),S;!(p=(S=h.next()).done);p=!0){var f=S.value;this.emit('uploadprogress',f,f.upload.progress,f.upload.bytesSent)}}catch(n){L=!0;T=n}finally{try{if(!p&&h['return']!=null){h['return']()}}finally{if(L){throw T}}}}
else{var z=!0;o=100;var c=!0,E=!1,C=undefined;try{for(var d=e[Symbol.iterator](),x;!(c=(x=d.next()).done);c=!0){var l=x.value;if(l.upload.progress!==100||l.upload.bytesSent!==l.upload.total){z=!1};l.upload.progress=o;l.upload.bytesSent=l.upload.total}}catch(n){E=!0;C=n}finally{try{if(!c&&d['return']!=null){d['return']()}}finally{if(E){throw C}}};if(z){return};var u=!0,w=!1,F=undefined;try{for(var s=e[Symbol.iterator](),k;!(u=(k=s.next()).done);u=!0){var b=k.value;this.emit('uploadprogress',b,o,b.upload.bytesSent)}}catch(n){w=!0;F=n}finally{try{if(!u&&s['return']!=null){s['return']()}}finally{if(w){throw F}}}}}},{key:'_finishedUploading',value:function(e,n,r){var a;if(e[0].status===t.CANCELED){return};if(n.readyState!==4){return};if(n.responseType!=='arraybuffer'&&n.responseType!=='blob'){a=n.responseText;if(n.getResponseHeader('content-type')&&~n.getResponseHeader('content-type').indexOf('application/json')){try{a=JSON.parse(a)}catch(i){r=i;a='Invalid JSON response from server.'}}};this._updateFilesUploadProgress(e);if(!(200<=n.status&&n.status<300)){this._handleUploadError(e,n,a)}
else{if(e[0].upload.chunked){e[0].upload.finishedChunkUpload(this._getChunk(e[0],n))}
else{this._finished(e,a,r)}}}},{key:'_handleUploadError',value:function(e,n,i){if(e[0].status===t.CANCELED){return};if(e[0].upload.chunked&&this.options.retryChunks){var r=this._getChunk(e[0],n);if(r.retries++<this.options.retryChunksLimit){this._uploadData(e,[r.dataBlock]);return}
else{console.warn('Retried this chunk too often. Giving up.')}};this._errorProcessing(e,i||this.options.dictResponseError.replace('{{statusCode}}',n.status),n)}},{key:'submitRequest',value:function(e,t,n){e.send(t)}},{key:'_finished',value:function(e,n,r){var o=!0,u=!1,d=undefined;try{for(var l=e[Symbol.iterator](),s;!(o=(s=l.next()).done);o=!0){var a=s.value;a.status=t.SUCCESS;this.emit('success',a,n,r);this.emit('complete',a)}}catch(i){u=!0;d=i}finally{try{if(!o&&l['return']!=null){l['return']()}}finally{if(u){throw d}}};if(this.options.uploadMultiple){this.emit('successmultiple',e,n,r);this.emit('completemultiple',e)};if(this.options.autoProcessQueue){return this.processQueue()}}},{key:'_errorProcessing',value:function(e,n,r){var o=!0,u=!1,d=undefined;try{for(var l=e[Symbol.iterator](),s;!(o=(s=l.next()).done);o=!0){var a=s.value;a.status=t.ERROR;this.emit('error',a,n,r);this.emit('complete',a)}}catch(i){u=!0;d=i}finally{try{if(!o&&l['return']!=null){l['return']()}}finally{if(u){throw d}}};if(this.options.uploadMultiple){this.emit('errormultiple',e,n,r);this.emit('completemultiple',e)};if(this.options.autoProcessQueue){return this.processQueue()}}}],[{key:'uuidv4',value:function(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e==='x'?t:t&0x3|0x8;return n.toString(16)})}}]);return t}(d);t.initClass();t.version='5.7.0';t.options={};t.optionsForElement=function(e){if(e.getAttribute('id')){return t.options[y(e.getAttribute('id'))]}
else{return undefined}};t.instances=[];t.forElement=function(e){if(typeof e==='string'){e=document.querySelector(e)};if((e!=null?e.dropzone:undefined)==null){throw new Error('No Dropzone found for given element. This is probably because you\'re trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.')};return e.dropzone};t.autoDiscover=!0;t.discover=function(){var e;if(document.querySelectorAll){e=document.querySelectorAll('.dropzone')}
else{e=[];var n=function(t){return function(){var r=[],a=!0,s=!1,u=undefined;try{for(var i=t[Symbol.iterator](),o;!(a=(o=i.next()).done);a=!0){var l=o.value;if(/(^| )dropzone($| )/.test(l.className)){r.push(e.push(l))}
else{r.push(undefined)}}}catch(n){s=!0;u=n}finally{try{if(!a&&i['return']!=null){i['return']()}}finally{if(s){throw u}}};return r}()};n(document.getElementsByTagName('div'));n(document.getElementsByTagName('form'))};return function(){var r=[],a=!0,s=!1,u=undefined;try{for(var i=e[Symbol.iterator](),o;!(a=(o=i.next()).done);a=!0){var l=o.value;if(t.optionsForElement(l)!==!1){r.push(new t(l))}
else{r.push(undefined)}}}catch(n){s=!0;u=n}finally{try{if(!a&&i['return']!=null){i['return']()}}finally{if(s){throw u}}};return r}()};t.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];t.isBrowserSupported=function(){var n=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!('classList' in document.createElement('a'))){n=!1}
else{var r=!0,l=!1,o=undefined;try{for(var i=t.blacklistedBrowsers[Symbol.iterator](),a;!(r=(a=i.next()).done);r=!0){var s=a.value;if(s.test(navigator.userAgent)){n=!1;continue}}}catch(e){l=!0;o=e}finally{try{if(!r&&i['return']!=null){i['return']()}}finally{if(l){throw o}}}}}
else{n=!1};return n};t.dataURItoBlob=function(e){var i=atob(e.split(',')[1]),l=e.split(',')[0].split(':')[1].split(';')[0],a=new ArrayBuffer(i.length),o=new Uint8Array(a);for(var t=0,n=i.length,r=0<=n;r?t<=n:t>=n;r?t++:t--){o[t]=i.charCodeAt(t)};return new Blob([a],{type:l})};var v=function(e,t){return e.filter(function(e){return e!==t}).map(function(e){return e})},y=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})};t.createElement=function(e){var t=document.createElement('div');t.innerHTML=e;return t.childNodes[0]};t.elementInside=function(e,t){if(e===t){return!0}
while(e=e.parentNode){if(e===t){return!0}};return!1};t.getElement=function(e,t){var n;if(typeof e==='string'){n=document.querySelector(e)}
else if(e.nodeType!=null){n=e};if(n==null){throw new Error('Invalid `'.concat(t,'` option provided. Please provide a CSS selector or a plain HTML element.'))};return n};t.getElements=function(e,t){var r,i;if(e instanceof Array){i=[];try{var s=!0,h=!1,p=undefined;try{for(var o=e[Symbol.iterator](),f;!(s=(f=o.next()).done);s=!0){r=f.value;i.push(this.getElement(r,t))}}catch(n){h=!0;p=n}finally{try{if(!s&&o['return']!=null){o['return']()}}finally{if(h){throw p}}}}catch(n){i=null}}
else if(typeof e==='string'){i=[];var l=!0,d=!1,c=undefined;try{for(var a=document.querySelectorAll(e)[Symbol.iterator](),u;!(l=(u=a.next()).done);l=!0){r=u.value;i.push(r)}}catch(n){d=!0;c=n}finally{try{if(!l&&a['return']!=null){a['return']()}}finally{if(d){throw c}}}}
else if(e.nodeType!=null){i=[e]};if(i==null||!i.length){throw new Error('Invalid `'.concat(t,'` option provided. Please provide a CSS selector, a plain HTML element or a list of those.'))};return i};t.confirm=function(e,t,n){if(window.confirm(e)){return t()}
else if(n!=null){return n()}};t.isValidFile=function(e,t){if(!t){return!0};t=t.split(',');var o=e.type,d=o.replace(/\/.*$/,''),a=!0,s=!1,u=undefined;try{for(var r=t[Symbol.iterator](),l;!(a=(l=r.next()).done);a=!0){var i=l.value;i=i.trim();if(i.charAt(0)==='.'){if(e.name.toLowerCase().indexOf(i.toLowerCase(),e.name.length-i.length)!==-1){return!0}}
else if(/\/\*$/.test(i)){if(d===i.replace(/\/.*$/,'')){return!0}}
else{if(o===i){return!0}}}}catch(n){s=!0;u=n}finally{try{if(!a&&r['return']!=null){r['return']()}}finally{if(s){throw u}}};return!1};if(typeof e!=='undefined'&&e!==null){e.fn.dropzone=function(e){return this.each(function(){return new t(this,e)})}};if(typeof i!=='undefined'&&i!==null){i.exports=t}
else{window.Dropzone=t};t.ADDED='added';t.QUEUED='queued';t.ACCEPTED=t.QUEUED;t.UPLOADING='uploading';t.PROCESSING=t.UPLOADING;t.CANCELED='canceled';t.ERROR='error';t.SUCCESS='success';var p=function(e){var c=e.naturalWidth,n=e.naturalHeight,r=document.createElement('canvas');r.width=1;r.height=n;var o=r.getContext('2d');o.drawImage(e,0,0);var u=o.getImageData(1,0,1,n),d=u.data,i=0,l=n,t=n;while(t>i){var s=d[(t-1)*4+3];if(s===0){l=t}
else{i=t};t=l+i>>1};var a=t/n;if(a===0){return 1}
else{return a}},m=function(e,t,n,i,r,a,l,o,s,u){var d=p(t);return e.drawImage(t,n,i,r,a,l,o,s,u/d)},u=function(){function e(){s(this,e)};a(e,null,[{key:'initClass',value:function(){this.KEY_STR='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='}},{key:'encode64',value:function(e){var o='',r=undefined,t=undefined,n='',s=undefined,u=undefined,a=undefined,i='',l=0;while(!0){r=e[l++];t=e[l++];n=e[l++];s=r>>2;u=(r&3)<<4|t>>4;a=(t&15)<<2|n>>6;i=n&63;if(isNaN(t)){a=i=64}
else if(isNaN(n)){i=64};o=o+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(u)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(i);r=t=n='';s=u=a=i='';if(!(l<e.length)){break}};return o}},{key:'restore',value:function(e,t){if(!e.match('data:image/jpeg;base64,')){return t};var n=this.decode64(e.replace('data:image/jpeg;base64,','')),i=this.slice2Segments(n),r=this.exifManipulation(t,i);return'data:image/jpeg;base64,'.concat(this.encode64(r))}},{key:'exifManipulation',value:function(e,t){var n=this.getExifArray(t),i=this.insertExif(e,n),r=new Uint8Array(i);return r}},{key:'getExifArray',value:function(e){var t=undefined,n=0;while(n<e.length){t=e[n];if(t[0]===255&t[1]===225){return t};n++};return[]}},{key:'insertExif',value:function(e,t){var a=e.replace('data:image/jpeg;base64,',''),i=this.decode64(a),r=i.indexOf(255,3),l=i.slice(0,r),o=i.slice(r),n=l;n=n.concat(t);n=n.concat(o);return n}},{key:'slice2Segments',value:function(e){var t=0,r=[];while(!0){var i;if(e[t]===255&e[t+1]===218){break};if(e[t]===255&e[t+1]===216){t+=2}
else{i=e[t+2]*256+e[t+3];var n=t+i+2,a=e.slice(t,n);r.push(a);t=n};if(t>e.length){break}};return r}},{key:'decode64',value:function(e){var c='',l=undefined,o=undefined,s='',u=undefined,i=undefined,t=undefined,r='',n=0,a=[],d=/[^A-Za-z0-9\+\/\=]/g;if(d.exec(e)){console.warn('There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, \'+\', \'/\',and \'=\'\nExpect errors in decoding.')};e=e.replace(/[^A-Za-z0-9\+\/\=]/g,'');while(!0){u=this.KEY_STR.indexOf(e.charAt(n++));i=this.KEY_STR.indexOf(e.charAt(n++));t=this.KEY_STR.indexOf(e.charAt(n++));r=this.KEY_STR.indexOf(e.charAt(n++));l=u<<2|i>>4;o=(i&15)<<4|t>>2;s=(t&3)<<6|r;a.push(l);if(t!==64){a.push(o)};if(r!==64){a.push(s)};l=o=s='';u=i=t=r='';if(!(n<e.length)){break}};return a}}]);return e}();u.initClass();var h=function(e,t){var o=!1,s=!0,i=e.document,u=i.documentElement,l=i.addEventListener?'addEventListener':'attachEvent',d=i.addEventListener?'removeEventListener':'detachEvent',r=i.addEventListener?'':'on',a=function f(n){if(n.type==='readystatechange'&&i.readyState!=='complete'){return}(n.type==='load'?e:i)[d](r+n.type,f,!1);if(!o&&(o=!0)){return t.call(e,n.type||n)}},c=function h(){try{u.doScroll('left')}catch(e){setTimeout(h,50);return};return a('poll')};if(i.readyState!=='complete'){if(i.createEventObject&&u.doScroll){try{s=!e.frameElement}catch(n){};if(s){c()}};i[l](r+'DOMContentLoaded',a,!1);i[l](r+'readystatechange',a,!1);return e[l](r+'load',a,!1)}};t._autoDiscoverFunction=function(){if(t.autoDiscover){return t.discover()}};h(window,t._autoDiscoverFunction);function b(e,t){return typeof e!=='undefined'&&e!==null?t(e):undefined};function k(e,t,n){if(typeof e!=='undefined'&&e!==null&&typeof e[t]==='function'){return n(e,t)}
else{return undefined}};return i.exports}));